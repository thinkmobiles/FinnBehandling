<div class="repeat-title"></div>
<div class="hospitals-list">
    <div ng-show="behandlingstilbudCtrl.hospitals.length">
        <span class="dynamic-font-md">Viser resultater: {{behandlingstilbudCtrl.hospitals.length}} av {{totalItems}}</span>
    </div>

    <div ng-show="pending">
        <h3>Loading...</h3>
    </div>

    <div ng-show="noHospitalsFound">
        <h2 class="bold" style="text-align: center">Ingen treff</h2>
    </div>

    <dir-pagination-controls
            on-page-change="behandlingstilbudCtrl.refreshHospitals()"
            pagination-id="hospitals"
            class="dynamic-font-md"
            ng-show="behandlingstilbudCtrl.hospitals.length">

    </dir-pagination-controls>

    <div class="hospital-item" ng-class="{'hospital-item-paid': hospital.is_paid, grey: !($index % 2)}"
         dir-paginate="hospital in behandlingstilbudCtrl.hospitals | itemsPerPage: resultater" total-items="totalItems" current-page="hospitalPage"
         pagination-id="hospitals">

        <h4 class="blue bold dynamic-font-lg">{{hospital.name | uppercase}}</h4>

        <div class="clearfix">

            <div ng-class="{'col-md-9': hospital.is_paid}">

                <img  ng-class="{'col-md-3': !hospital.is_paid, 'col-md-6': hospital.is_paid}"
                     ng-src="{{hospital.logo && hospital.logo.image_url}}"/>
                <!--<img  ng-class="{'col-md-3': !hospital.is_paid, 'col-md-6': hospital.is_paid}"
                     ng-src="http://www.freelargeimages.com/wp-content/uploads/2015/05/Hospital_Logo_02.png"/>-->

                <div class="dynamic-font-md" ng-class="{'col-md-6': !hospital.is_paid, 'hospital-details col-md-12': hospital.is_paid}">
                    {{hospital.description | limitTo: 400}}<span ng-show="hospital.description.length > 400">...</span>
                </div>

            </div>

            <div class="col-md-3">

                <span class="contact-data">{{hospital.address}}</span> <br/>
                <span class="contact-data">{{hospital.city}}</span> <br/>
                <span class="contact-data">{{hospital.phone_number[0]}}</span>

                <div ng-show="hospital.is_paid">
                    <a class="btn btn-default margin-top" href="#/behandlingstilbud/{{hospital.id}}">Se hele profilen</a><br/>
                    <a class="btn btn-default margin-top" ng-click="behandlingstilbudCtrl.redirect(hospital.web_address)">GÃ¥ til nettside</a><br/>
                    <a
                            class="btn btn-default margin-top"
                            ng-click="behandlingstilbudCtrl.setCoordinates(hospital.latitude, hospital.longitude)"
                            data-animation="am-fade-and-scale"
                            data-template-url="templates/modal/map.tpl.html"
                            bs-modal="modal"
                            >
                        Vis pa kart
                    </a>
                </div>

            </div>
        </div>

        <div class="clearfix margin-top">

            <div class="col-md-12">
                <a class="pull-left dynamic-font-md" href="#/behandlingstilbud/{{hospital.id}}">Ga til nettside></a>
                <span class="pull-right blue dynamic-font-md">Sist oppdatert: {{hospital.created_at}}</span>
            </div>

        </div>
    </div>

    <dir-pagination-controls
            on-page-change="behandlingstilbudCtrl.refreshHospitals()"
            pagination-id="hospitals"
            class="dynamic-font-md"
            ng-show="behandlingstilbudCtrl.hospitals.length">

    </dir-pagination-controls>
</div>